import{a6 as V,E as y,o as l,a as c,b as a,w as r,ad as m,F as h,e as k,ac as n,az as b}from"./index-D7n94ywy.js";import{b as d}from"./route-block-B_A1xBdJ.js";import{V as g}from"./VRow-DV2oNqIb.js";import{V as u}from"./VCol-CWCnw2cO.js";import{V as v}from"./VDivider-BKhsb_Eu.js";import{V as w}from"./VDataTable-Ay2jjMJA.js";import{V as x}from"./VContainer-BmQjg5-A.js";import"./VPagination-ii_jkyHy.js";import"./VList-CsSy4_p1.js";const A={class:"bg"},B=m("h1",{class:"text-center"},"訂單查詢",-1),D={__name:"orders",setup(C){const{apiAuth:p}=b(),_=V(),i=y([]),f=[{title:"編號",key:"_id"},{title:"日期",key:"createdAt",value:e=>new Date(e.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"price",value:e=>e.cart.reduce((s,t)=>s+t.quantity*t.p_id.price,0)}];return(async()=>{var e,s;try{const{data:t}=await p.get("/order");i.value.push(...t.result)}catch(t){console.log(t),_({text:((s=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}})(),(e,s)=>(l(),c("div",A,[a(x,null,{default:r(()=>[a(g,null,{default:r(()=>[a(u,{cols:"12",class:"title"},{default:r(()=>[B]),_:1}),a(v),a(u,{cols:"12"},{default:r(()=>[a(w,{items:i.value,headers:f,class:"tableBg"},{"item.cart":r(t=>[m("ul",null,[(l(!0),c(h,null,k(t.item.cart,o=>(l(),c("li",{key:o._id},n(o.p_id.name)+" * "+n(o.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1})]))}};typeof d=="function"&&d(D);export{D as default};
