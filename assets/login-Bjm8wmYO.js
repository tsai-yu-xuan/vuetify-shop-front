import{_ as k,E as F,I,a7 as B,aY as C,u as E,a6 as M,o as P,a as U,aa as r,ad as y,b as a,w as t,F as N,d as s,aI as R,aG as v,R as q,ac as A,af as L,ag as T}from"./index-i6M1RC1a.js";import{c as Y,a as b,u as $,e as _,V as z}from"./vee-validate.esm-CMd4rxMU.js";import{v as D}from"./index-DcBOdE6S.js";import{V as G,a as g}from"./VCol-CR4bclpd.js";import{V as H}from"./VRow-ChUQapms.js";import{V as j}from"./VDivider-DqaGhA1t.js";import"./_commonjsHelpers-Cpj98o6Y.js";const f=l=>(L("data-v-ba5aa74b"),l=l(),T(),l),J={class:"container"},K=f(()=>r("h1",{class:"text-center"},"登入",-1)),O=f(()=>r("br",null,null,-1)),Q={class:"text-center"},W={__name:"login",setup(l){const d=F(!1),u=()=>{const o=window.scrollY,e=80;d.value=o>e};I(()=>{window.addEventListener("scroll",u)}),B(()=>{window.removeEventListener("scroll",u)});const V=C(),h=E(),m=M(),w=Y({account:b().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",o=>D.isAlphanumeric(o)),password:b().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:x,isSubmitting:p}=$({validationSchema:w}),n=_("account"),i=_("password"),S=x(async o=>{const e=await h.login(o);e==="登入成功"?(m({text:e,snackbarProps:{color:"green"}}),V.push("/")):m({text:e,snackbarProps:{color:"red"}})});return(o,e)=>(P(),U(N,null,[r("div",{id:"navbar",class:y({"hidden-navbar":d.value})},null,2),a(G,{fluid:"",class:"text-black bg-img"},{default:t(()=>[r("div",J,[a(H,{class:"bg box"},{default:t(()=>[a(g,{cols:"12"},{default:t(()=>[K]),_:1}),a(j),O,a(g,{cols:"12"},{default:t(()=>[a(z,{disabled:s(p),onSubmit:R(s(S),["prevent"])},{default:t(()=>[a(v,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:s(n).value.value,"onUpdate:modelValue":e[0]||(e[0]=c=>s(n).value.value=c),"error-messages":s(n).errorMessage.value},null,8,["modelValue","error-messages"]),a(v,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:"password",modelValue:s(i).value.value,"onUpdate:modelValue":e[1]||(e[1]=c=>s(i).value.value=c),"error-messages":s(i).errorMessage.value},null,8,["modelValue","error-messages"]),r("div",Q,[a(q,{type:"submit",color:"green",loading:s(p)},{default:t(()=>[A("登入")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})])]),_:1})],64))}},re=k(W,[["__scopeId","data-v-ba5aa74b"]]);export{re as default};
