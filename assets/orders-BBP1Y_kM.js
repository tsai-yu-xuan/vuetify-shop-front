import{a6 as k,E as V,o as c,a8 as y,w as r,b as s,aa as l,ac as h,a as n,e as b,F as g,ad as d,az as x}from"./index-BBEz_kA-.js";import{b as u}from"./route-block-B_A1xBdJ.js";import{V as m}from"./VCol-D10BgHc9.js";import{V as v}from"./VDivider-BchYQFji.js";import{V as w}from"./VDataTable-BwAISw0c.js";import{V as A}from"./VRow-DwvvGPWs.js";import{V as B}from"./VContainer-BnVQQD_B.js";import"./VPagination-CkHDLIAR.js";import"./VList-DT6pBqQh.js";const D=l("h1",{class:"text-center text-white"},"訂單管理",-1),C={class:"border"},N={__name:"orders",setup(S){const{apiAuth:p}=x(),_=k(),i=V([]),f=[{title:"編號",key:"_id"},{title:"帳號",key:"user.account"},{title:"日期",key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"price",value:t=>t.cart.reduce((a,e)=>a+e.quantity*e.p_id.price,0)}];return(async()=>{var t,a;try{const{data:e}=await p.get("/order/all");i.value.push(...e.result)}catch(e){console.log(e),_({text:((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}})(),(t,a)=>(c(),y(B,null,{default:r(()=>[s(A,null,{default:r(()=>[s(m,{cols:"12"},{default:r(()=>[D]),_:1}),s(v),l("div",C,[h(" . "),s(m,{cols:"12"},{default:r(()=>[s(w,{items:i.value,headers:f,class:"no-background"},{"item.cart":r(e=>[l("ul",null,[(c(!0),n(g,null,b(e.item.cart,o=>(c(),n("li",{key:o._id},d(o.p_id.name)+" * "+d(o.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})])]),_:1})]),_:1}))}};typeof u=="function"&&u(N);export{N as default};
