import{a6 as f,E as V,o as l,a as c,b as a,w as r,aa as u,F as h,e as y,aE as k,ae as n}from"./index-i6M1RC1a.js";import{V as g,a as d}from"./VCol-CR4bclpd.js";import{V as b}from"./VRow-ChUQapms.js";import{V as v}from"./VDivider-DqaGhA1t.js";import{V as w}from"./VDataTable-BEwfeWWG.js";import"./VPagination--XfQNbFQ.js";import"./VList-a8nHdtGd.js";const x={class:"bg"},A=u("h1",{class:"text-center"},"訂單查詢",-1),N={__name:"orders",setup(B){const{apiAuth:m}=k(),p=f(),i=V([]),_=[{title:"編號",key:"_id"},{title:"日期",key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"price",value:t=>t.cart.reduce((s,e)=>s+e.quantity*e.p_id.price,0)}];return(async()=>{var t,s;try{const{data:e}=await m.get("/order");i.value.push(...e.result)}catch(e){console.log(e),p({text:((s=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:s.message)||"發生錯誤",snackbarProps:{color:"red"}})}})(),(t,s)=>(l(),c("div",x,[a(g,null,{default:r(()=>[a(b,null,{default:r(()=>[a(d,{cols:"12",class:"title"},{default:r(()=>[A]),_:1}),a(v),a(d,{cols:"12"},{default:r(()=>[a(w,{items:i.value,headers:_,class:"tableBg"},{"item.cart":r(e=>[u("ul",null,[(l(!0),c(h,null,y(e.item.cart,o=>(l(),c("li",{key:o._id},n(o.p_id.name)+" * "+n(o.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1})]))}};export{N as default};
