import{_ as k,E as F,I as C,a7 as I,u as M,a6 as B,o as E,a as P,aa as r,ae as U,b as a,w as t,d as s,aC as y,aA as v,R as A,ac as N,F as R,aM as q,af as L,ag as T}from"./index-BiWzd_tV.js";import{c as $,a as b,u as z,e as _,V as D}from"./vee-validate.esm-BifY4yZG.js";import{v as H}from"./index-DcBOdE6S.js";import{V as Y}from"./VRow-BVr3b8CR.js";import{a as g,V as j}from"./VCol-cc2X4wUg.js";import{V as G}from"./VDivider-h__4g0U-.js";import"./_commonjsHelpers-Cpj98o6Y.js";const f=l=>(L("data-v-ba5aa74b"),l=l(),T(),l),J={class:"container"},K=f(()=>r("h1",{class:"text-center"},"登入",-1)),O=f(()=>r("br",null,null,-1)),Q={class:"text-center"},W={__name:"login",setup(l){const d=F(!1),u=()=>{const o=window.scrollY,e=80;d.value=o>e};C(()=>{window.addEventListener("scroll",u)}),I(()=>{window.removeEventListener("scroll",u)});const V=q(),h=M(),m=B(),w=$({account:b().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",o=>H.isAlphanumeric(o)),password:b().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:x,isSubmitting:p}=z({validationSchema:w}),n=_("account"),i=_("password"),S=x(async o=>{const e=await h.login(o);e==="登入成功"?(m({text:e,snackbarProps:{color:"green"}}),V.push("/")):m({text:e,snackbarProps:{color:"red"}})});return(o,e)=>(E(),P(R,null,[r("div",{id:"navbar",class:U({"hidden-navbar":d.value})},null,2),a(j,{fluid:"",class:"text-black bg-img"},{default:t(()=>[r("div",J,[a(Y,{class:"bg box"},{default:t(()=>[a(g,{cols:"12"},{default:t(()=>[K]),_:1}),a(G),O,a(g,{cols:"12"},{default:t(()=>[a(D,{disabled:s(p),onSubmit:y(s(S),["prevent"])},{default:t(()=>[a(v,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:s(n).value.value,"onUpdate:modelValue":e[0]||(e[0]=c=>s(n).value.value=c),"error-messages":s(n).errorMessage.value},null,8,["modelValue","error-messages"]),a(v,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:"password",modelValue:s(i).value.value,"onUpdate:modelValue":e[1]||(e[1]=c=>s(i).value.value=c),"error-messages":s(i).errorMessage.value},null,8,["modelValue","error-messages"]),r("div",Q,[a(A,{type:"submit",color:"green",loading:s(p)},{default:t(()=>[N("登入")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})])]),_:1})],64))}},re=k(W,[["__scopeId","data-v-ba5aa74b"]]);export{re as default};
