import{_ as k,E as F,I,a7 as U,aY as B,u as C,a6 as E,a as M,aa as r,ad as P,b as a,w as t,F as y,o as N,d as s,aW as R,aU as v,R as q,ac as A,af as L,ag as T}from"./index-CF93W50X.js";import{c as Y,a as b,u as $,e as _,V as z}from"./vee-validate.esm-hHrCqG31.js";import{v as D}from"./index-DcBOdE6S.js";import{V as H,a as g}from"./VCol-DhO8lLom.js";import{V as W}from"./VRow-BGgpMvRL.js";import{V as j}from"./VDivider-zC21T_0p.js";import"./_commonjsHelpers-Cpj98o6Y.js";const f=l=>(L("data-v-ba5aa74b"),l=l(),T(),l),G={class:"container"},J=f(()=>r("h1",{class:"text-center"},"登入",-1)),K=f(()=>r("br",null,null,-1)),O={class:"text-center"},Q={__name:"login",setup(l){const d=F(!1),u=()=>{const o=window.scrollY,e=80;d.value=o>e};I(()=>{window.addEventListener("scroll",u)}),U(()=>{window.removeEventListener("scroll",u)});const V=B(),h=C(),m=E(),w=Y({account:b().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",o=>D.isAlphanumeric(o)),password:b().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:x,isSubmitting:p}=$({validationSchema:w}),n=_("account"),i=_("password"),S=x(async o=>{const e=await h.login(o);e==="登入成功"?(m({text:e,snackbarProps:{color:"green"}}),V.push("/")):m({text:e,snackbarProps:{color:"red"}})});return(o,e)=>(N(),M(y,null,[r("div",{id:"navbar",class:P({"hidden-navbar":d.value})},null,2),a(H,{fluid:"",class:"text-black bg-img"},{default:t(()=>[r("div",G,[a(W,{class:"bg box"},{default:t(()=>[a(g,{cols:"12"},{default:t(()=>[J]),_:1}),a(j),K,a(g,{cols:"12"},{default:t(()=>[a(z,{disabled:s(p),onSubmit:R(s(S),["prevent"])},{default:t(()=>[a(v,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:s(n).value.value,"onUpdate:modelValue":e[0]||(e[0]=c=>s(n).value.value=c),"error-messages":s(n).errorMessage.value},null,8,["modelValue","error-messages"]),a(v,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:"password",modelValue:s(i).value.value,"onUpdate:modelValue":e[1]||(e[1]=c=>s(i).value.value=c),"error-messages":s(i).errorMessage.value},null,8,["modelValue","error-messages"]),r("div",O,[a(q,{type:"submit",color:"green",loading:s(p)},{default:t(()=>[A("登入")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})])]),_:1})],64))}},re=k(Q,[["__scopeId","data-v-ba5aa74b"]]);export{re as default};
